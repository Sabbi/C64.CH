@namespace C64.FrontEnd.Pages

    <EditForm Model="EditScener" OnValidSubmit="OnDataAnnotationsValidated">
        <DataAnnotationsValidator />
        <div class="form-group">
            <label>
                Handle
            </label>
            <div>
                <InputText class="form-control" @bind-Value="@EditScener.Handle" />
                <ValidationMessage For="@(() => EditScener.Handle)" />
            </div>
        </div>
        @if (EditScener.ShowRealName)
        {
            <div class="form-group">
                <label>
                    Real name
                </label>
                <div>
                    <InputText class="form-control" @bind-Value="@EditScener.RealName" />
                    <ValidationMessage For="@(() => EditScener.RealName)" />
                </div>
            </div>
        }
        <div class="form-group">
            <label>Birthday</label>
            <div>
                <InputPartialDate @bind-Value="@EditScener.Birthday" StartingYear="1900" EndingYear="DateTime.Now.Year" />
            </div>
        </div>
        <div class="form-group">
            <label>
                Location
            </label>
            <div>
                <InputText class="form-control" @bind-Value="@EditScener.Location" />
                <ValidationMessage For="@(() => EditScener.Location)" />
            </div>
        </div>
        <div class="form-group">
            <label>Country:</label>
            <div>
                <InputSelect class="form-control" @bind-Value="@EditScener.CountryId">
                    <option value="">Select Country:</option>
                    @foreach (var country in Countries)
                    {
                        <option value="@country.CountryId">@country.Name</option>
                    }
                </InputSelect>
            </div>
        </div>
        <button class="btn btn-primary" type="submit">Add scener</button>
    </EditForm>

    @code {

        [Parameter]
        public EditScener EditScener { get; set; }

        [Parameter]
        public EventCallback OnValidSubmit { get; set; }

        [Parameter]
        public IEnumerable<Country> Countries { get; set; } = new List<Country>();

        private async Task OnDataAnnotationsValidated()
        {
            await OnValidSubmit.InvokeAsync(null);
        }
    }