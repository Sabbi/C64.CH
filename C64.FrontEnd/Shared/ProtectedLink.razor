@inject IToastService toastService
@inject NavigationManager navigationManager
@inject Microsoft.AspNetCore.Http.HttpContextAccessor httpContextAccessor
@inject IModalService Modal

@code{
    protected bool CheckAccess()
    {
        if (!httpContextAccessor.HttpContext.IsLoggedIn())
        {
            Modal.Show<LoginModal>();
            return false;
        }

        if (!httpContextAccessor.HttpContext.CanEdit())
        {
            navigationManager.NavigateTo("/help/contribute");
            toastService.ShowInfo("Editing requires an updated account - please drop us a note to have your account updated!");
            return false;
        }

        return true;
    }

}