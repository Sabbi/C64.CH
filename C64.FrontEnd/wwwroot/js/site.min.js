"use strict";function openNav(){document.getElementById("mobileNav").style.width="100%";$("body").addClass("no-scroll")}function closeNav(){document.getElementById("mobileNav").style.width="0%";$("body").removeClass("no-scroll")}function onTrigger(n){var t=$(n).next(".nav-items");$(".nav-items").not(t).slideUp();t.slideToggle()}function submitLogin(){document.getElementById("headerLoginForm").submit()}function submitForm(n){console.log("Subtmit "+n);document.getElementById(n).submit()}function saveAsFile(n,t){var i=document.createElement("a");i.download=n;i.href="data:application/octet-stream;base64,"+t;document.body.appendChild(i);i.click();document.body.removeChild(i)}function initOwlCarousel(){var n=$(".owl-carousel");n.owlCarousel({responsive:{0:{items:2},576:{items:3},768:{items:4}},loop:!1,margin:10,autoplay:!0,autoplayTimeout:1e4,autoplayHoverPause:!0})}function initSelectPicker(){$(".selectpicker").selectpicker()}function ResetProdEditSelect(){prodEditSelect.selectedIndex=0}function ResetGroupEditSelect(){groupEditSelect.selectedIndex=0}function setupEmu(n){for(var o,r,s,h=arguments.length<=1||arguments[1]===undefined?0:arguments[1],c=arguments.length<=2||arguments[2]===undefined?0:arguments[2],l=arguments.length<=3||arguments[3]===undefined?0:arguments[3],a=arguments.length<=4||arguments[4]===undefined?0:arguments[4],u=n[0],f=n[1],e=n[2],i=[],t=0;t<u.length;t++)i[t]=VICELoader.mountFile("disk"+(t+1)+".d64",VICELoader.fetchFile("disk"+(t+1)+".d64","/data/productions/archive/"+u[t]));for(o=e?VICELoader.autoLoad("disk1.d64:"+e):VICELoader.autoLoad("disk1.d64"),r=[],t=0;t<f.length;t++)r[t]="disk"+f[t]+".d64";s=new VICELoader(VICELoader.emulatorJS("/js/x64-2.min.js"),VICELoader.nativeResolution(0,0),VICELoader.extraArgs(["-soundfragsize","4","-soundrate","48000","-soundsync","2","-soundbufsize","150","-residsamp","0","-config","/emulator/vice.ini"]),VICELoader.mountFile("vice.ini",VICELoader.fetchFile("Configuration","/data/vice.ini?sidModel="+h+"&driveSoundEmulation="+c+"&driveSoundEmulationVolume="+l+"&crtEmulation="+a)),i[0],i[1],i[2],i[3],i[4],VICELoader.fliplist([r]),o);emulator=new Emulator(document.querySelector("#canvas"),null,s)}function startEmu(){emulator.start({waitAfterDownloading:!1});$("#canvas").css("display","block");isStarted=!0}function exitEmu(){function t(){return!0}try{Module.exit(1)}catch(i){}isStarted=!1;var n=Module.keyboardListeningElement||document;n.removeEventListener("keydown",SDL.receiveEvent);n.removeEventListener("keyup",SDL.receiveEvent);n.removeEventListener("keypress",SDL.receiveEvent);window.removeEventListener("focus",SDL.receiveEvent);window.removeEventListener("blur",SDL.receiveEvent);document.removeEventListener("visibilitychange",SDL.receiveEvent);window.removeEventListener("unload",SDL.receiveEvent);window.onkeydown=t}function goFullScreen(){try{isStarted&&emulator.requestFullScreen()}catch(n){}}function cleanDb(){try{console.log("CleanDB");var n=window.indexedDB.open("emularity",4);n.onsuccess=function(){console.log("<li>Database initialised.<\/li>");var t=n.result;clearData(t)}}catch(t){}}function clearData(n){var t,i,r;try{t=n.transaction(["emularity"],"readwrite");t.oncomplete=function(){console.log("<li>Transaction completed.<\/li>")};t.onerror=function(){console.log("<li>Transaction not opened due to error: "+t.error+"<\/li>")};i=t.objectStore("emularity");r=i.clear();r.onsuccess=function(){console.log("<li>Request successful.<\/li>")}}catch(u){}}function grabEmuScreenshot(){return canvas.toDataURL("image/png")}function BlazorScrollToId(n){var t=document.getElementById(n);t instanceof HTMLElement&&t.scrollIntoView({behavior:"auto",block:"start",inline:"nearest"})}$(".nav-items").slideUp();$(".trigger").click(function(){var n=$(this).next(".nav-items");$(".nav-items").not(n).slideUp();n.slideToggle()});toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!0,positionClass:"toast-top-full-width",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"3000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};window.initializeCarousel=function(){console.log("Initialize carousel");$("#carousel1").carousel({interval:2e4});$("#carousel1").carousel(0);$("#carousel1-prev").click(function(){return $("#carousel1").carousel("prev")});$("#carousel1-next").click(function(){return $("#carousel1").carousel("next")})};window.bindCarousel=function(){$("#carousel1").on("slide.bs.carousel",function(n){$(n.relatedTarget).find("img").each(function(){var n=$(this),t=n.data("lazy-load-src");typeof t!="undefined"&&t!=""&&(n.attr("src",t),n.data("lazy-load-src",""))})});$("#carousel1").bind("slide.bs.carousel",function(n){$("[data-slide-to='"+n.from+"'").removeClass("active");$("[data-slide-to='"+n.to+"'").addClass("active")})};window.scrollToElementId=function(n){console.info("scrolling to element",n);var t=document.getElementById(n);return t?(t.scrollIntoView(),!0):(console.warn("element was not found",n),!1)};var inited=!1,emulator,isStarted=!1;cleanDb();